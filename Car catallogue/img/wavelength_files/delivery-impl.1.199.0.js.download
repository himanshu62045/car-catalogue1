(()=>{var t={787:()=>{!function(t){var e=function(e){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==e&&this.setOption(e);var n=this,i=function(){setTimeout((function(){!0===n._options.checkOnLoad&&(!0===n._options.debug&&n._log("onload->eventCallback","A check loading is launched"),null===n._var.bait&&n._creatBait(),setTimeout((function(){n.check()}),1))}),1)};void 0!==t.addEventListener?t.addEventListener("load",i,!1):t.attachEvent("onload",i)};e.prototype._options=null,e.prototype._var=null,e.prototype._bait=null,e.prototype._log=function(t,e){console.log("[BlockAdBlock]["+t+"] "+e)},e.prototype.setOption=function(t,e){if(void 0!==e){var n=t;(t={})[n]=e}for(var i in t)this._options[i]=t[i],!0===this._options.debug&&this._log("setOption",'The option "'+i+'" he was assigned to "'+t[i]+'"');return this},e.prototype._creatBait=function(){var e=document.createElement("div");e.setAttribute("class",this._options.baitClass),e.setAttribute("style",this._options.baitStyle),this._var.bait=t.document.body.appendChild(e),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,!0===this._options.debug&&this._log("_creatBait","Bait has been created")},e.prototype._destroyBait=function(){t.document.body.removeChild(this._var.bait),this._var.bait=null,!0===this._options.debug&&this._log("_destroyBait","Bait has been removed")},e.prototype.check=function(t){if(void 0===t&&(t=!0),!0===this._options.debug&&this._log("check","An audit was requested "+(!0===t?"with a":"without")+" loop"),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var e=this;return this._var.loopNumber=0,!0===t&&(this._var.loop=setInterval((function(){e._checkBait(t)}),this._options.loopCheckTime)),setTimeout((function(){e._checkBait(t)}),1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0},e.prototype._checkBait=function(e){var n=!1;if(null===this._var.bait&&this._creatBait(),null===t.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(n=!0),void 0!==t.getComputedStyle){var i=t.getComputedStyle(this._var.bait,null);!i||"none"!=i.getPropertyValue("display")&&"hidden"!=i.getPropertyValue("visibility")||(n=!0)}!0===this._options.debug&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===n?"positive":"negative")),!0===e&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===n?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===e&&(this._var.checking=!1)):null!==this._var.loop&&!1!==e||(this._destroyBait(),this.emitEvent(!1),!0===e&&(this._var.checking=!1))},e.prototype._stopLoop=function(t){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,!0===this._options.debug&&this._log("_stopLoop","A loop has been stopped")},e.prototype.emitEvent=function(t){!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===t?"positive":"negative")+" detection was called");var e=this._var.event[!0===t?"detected":"notDetected"];for(var n in e)!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(n)+1)+"/"+e.length),e.hasOwnProperty(n)&&e[n]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},e.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")},e.prototype.on=function(t,e){return this._var.event[!0===t?"detected":"notDetected"].push(e),!0===this._options.debug&&this._log("on",'A type of event "'+(!0===t?"detected":"notDetected")+'" was added'),this},e.prototype.onDetected=function(t){return this.on(!0,t)},e.prototype.onNotDetected=function(t){return this.on(!1,t)},t.BlockAdBlock=e,void 0===t.blockAdBlock&&(t.blockAdBlock=new e({checkOnLoad:!0,resetOnEnd:!0}))}(window)}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}(()=>{"use strict";function t(){return window.apstag||function(t,e,n,i,o,s,r){function a(n,i){e[t]._Q.push([n,i])}e[t]||(e[t]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(s=n.createElement(i)).async=!0,s.src="//c.amazon-adsystem.com/aax2/apstag.js",(r=n.getElementsByTagName(i)[0]).parentNode.insertBefore(s,r))}("apstag",window,document,"script"),window.apstag}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];const e=()=>window.PWT,i=window.addEventListener;function o(){return window.console}function s(t){return Boolean(window.console&&window.console[t])}function r(){return window.location}const a=(t,e)=>{if(!t||!e)return null;let n=null;return t.some((t=>t.getId()===e&&(n=t,!0))),n},d=(t,e)=>t&&e?a(t,e.getSlotElementId()):null;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}function c(t,e){if(t&&t.eventCallbacks&&t.eventCallbacks[e])try{t.eventCallbacks[e]()}catch(t){}}function g(t){const e=typeof t;return null!=t&&("object"===e||"function"===e)}function u(t){return Array.from(t)}let h=null;function p(){return"mobile"===function(){if(null===h){const t=window.navigator.userAgent||"",e=window.screen.width||window.innerWidth;h="desktop",e<900&&(h="mobile"),t.match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/i)?h="tablet":t.match(/Mobile|iP(hone|od)|BlackBerry|IEMobile/i)&&(h="mobile")}return h}()}function f(t){const e=new RegExp("^(.*;)?\\s*"+t+"\\s*=(\\s*[^;]*)").exec(document.cookie);return e&&e[2]||""}let m=null,v=null;function b(){return"#test_mode"===r().hash}function y(t){const e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(r().search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function w(){return null===m&&(m="TRUE"===y("ads_debug").toUpperCase()||"1"===f("ads_debug")),m}function I(...t){w()&&s("info")&&o().info(...C(t,"INFO:"))}function _(...t){w()&&s("error")&&o().error(C(t,"ERROR:"))}function C(t,e,n){t=[].slice.call(t),e&&t.unshift(e);const i=n?"red":"#0cb";return t.unshift(`display: inline-block; color: #fff; background: ${i}; padding: 1px 4px; border-radius: 3px;`),t.unshift("%cAds-Manager"),t}const E={renderAdsOnInit:!1,bidderTimeout:2e3,bidders:{},adUnitChanges:()=>{},requestBidsCallback:()=>{}},A=function(){let t={},e=E;return{clear:function(){e={},t={}},getConfig:function(t,n){return t?function(t,e,n){const i=String(e).split(".");for(let e=0;e<i.length;e++)if(void 0===(t=t[i[e]]))return n;return t}(e,t,n):e},setConfig:function(n){"object"==typeof n?Object.keys(n).forEach((i=>{let o=n[i];"object"==typeof t[i]&&"object"==typeof o&&(o=Object.assign({},t[i],o)),e[i]=o})):_("setConfig options must be an object")},setDefaults:function(n){"object"==typeof n?(Object.assign(t,n),Object.assign(e,n)):_("defaults must be an object")},setConfigValue:function(t,n){if("string"!=typeof t||t.length<1)return void _("defaults must be an object");const i=String(t).split("."),o=i.length;let s=e;for(let t=0;t<o;t++)o-1===t?s[i[t]]=n:void 0===s[i[t]]&&(s[i[t]]={}),s=s[i[t]]}}}(),S="targeting",k="rgKey",x="renderAdsOnInit",B=1400;function T(t){const e=t.sizeMappings.sort((function(t){return Array.isArray(t[0][0])?t[0][0][0]:t[0][0]})).filter((function(t){return window.matchMedia(`(min-width: ${t[0][0]}px)`).matches})).pop();return e&&e[1]}function R(t){t.matches&&F().filter((function(t){return document.body.contains(t.element)&&t.sizeMappings&&t.sizeMappings.length&&!function(t){const e=T(t);return!(!e||!e.length)&&JSON.stringify(e)===JSON.stringify(t.sizes)}(t)})).forEach((t=>{t.sizes=T(t),t.resetGptSlot()}))}function z(t,e){window.dispatchEvent(new window.CustomEvent(t,{detail:e}))}function O(t){return{slotId:t.getSlotId(),performance:{adRequestStart:t.requestTimestamp,adViewableAt:Date.now(),actionAt:Date.now()},metadata:{lineItemId:t.lineItemId,creativeId:t.creativeId,creativeTemplateId:t.creativeTemplateId,advertiserId:t.advertiserId,isEmpty:t.isEmpty,rgKey:A.getConfig(k,null),experimentVariant:A.getConfig("targeting.experimentVariant",null),adCorrelationId:t.adCorrelationId}}}function P(t){t&&z("rgAdBidRequest",O(t))}class L{getName(){return"amazon"}getDisplayName(){return"Amazon"}init(){t().init({pubID:"d48a1f7a-417f-49a9-bb7f-fe32af3648db",adServer:"googletag",bidTimeout:A.getConfig("bidderTimeout",B)})}requestBids(e,n,i){const o=e.map((t=>({slotID:t.getId(),slotName:t.getAdUnitPath(),sizes:t.getSizes().filter((t=>Array.isArray(t)))}))).filter((({sizes:t})=>t.length));o.length?(e.forEach((t=>P(t))),t().fetchBids({slots:o,timeout:A.getConfig("bidderTimeout",B)},(()=>{I(`[${n}] [Amazon] Applying bids to [${o.map((t=>t.slotID)).join(", ")}].`),t().setDisplayBids(),i(this.getName(),n)}))):i(this.getName(),n)}removeBids(t){for(const e of t){const t=e.getSlot();t.getTargetingKeys().filter((t=>t.startsWith("amznb"))).forEach((e=>{t.clearTargeting(e)}))}}}class N{constructor(){this.placementCounter={}}getName(){return"opnwrp"}getDisplayName(){return"OpenWrap"}init(){}requestBids(t,n,i){var o;const s=window,r=null===(o=null==s?void 0:s.openwrap)||void 0===o?void 0:o.cmd;r&&r.push((()=>{let o="article";const r=A.getConfig(k,null);if(r)switch(r.split(":")[0]){case"PB":o="publication";break;case"AU":o="author";break;case"PT":o="question";break;case"AC":o="researcher";break;case"K":o="category";break;case"PJ":o="project"}s.openwrap_adagio_pagetype=o,s.openwrap_adagio_environment=p()?"mobile":"desktop";const a=t.filter((function(t){return t.getSlot()})),d=a.map((function(t){return t.getSlot()}));I("[OpenWrap] Requesting bids for ["+a.map((t=>t.getAdUnitPath())).join(",")+"].");const l=p()?"Mobile":"Desktop",c={};a.forEach((t=>{if(t.adLocation){c[t.getSlot().getAdUnitPath()]=`${t.adLocation}_${l}_Ad`;const e=t.getSlot().getSlotElementId(),n=this.placementCounter[t.adLocation]||1;s.openwrap_render_counters||(s.openwrap_render_counters={}),s.openwrap_render_counters[e]=n,this.placementCounter[t.adLocation]=n+1}}));const g=e().generateConfForGPT(d);g.forEach((t=>{c[t.adUnitId]&&(t.reverseLookup=t.adUnitId,t.adUnitId=c[t.adUnitId])})),"function"==typeof e().requestBids&&(a.forEach((t=>P(t))),e().requestBids(g,(t=>{I("[OpenWrap] Applying bids for slots ["+t.map((t=>t.reverseLookup)).join(",")+"]."),e().addKeyValuePairsToGPTSlots(t),i(this.getName(),n)})))}))}removeBids(t){var n;const i=(null===(n=e())||void 0===n?void 0:n.removeKeyValuePairsFromGPTSlots)||{},o=t.map((t=>t.getSlot()));i&&i(o)}}function D(t){let e=null;function n(t){const e=t;for(;t=t.previousElementSibling;)if(t.offsetParent)return t;for(t=e;t=t.nextElementSibling;)if(t.offsetParent)return t}for(;null===t.offsetParent;)e=n(t),t=e||t.parentNode;return t.getBoundingClientRect()}function U(t,e){return 0===e||function(t){const e=t.lazy,n=t.clientRect.top;return n<window.innerHeight*e&&n>0}({clientRect:D(t),lazy:e})}function M(t){return 0===t.getLazySetting()||(e=D(t.element)).top>=0&&e.left>=0&&e.right<=(window.innerWidth||document.documentElement.clientWidth)&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight);var e}function q(t){let e=t.getLazySetting();return 0===e||(e+=-.5,U(t.element,e))}let $=window.scrollY,j=!1;function V(){if(j)return;const t=A.getConfig(x,!1),e=Y(M).filter((function(t){return!(G.getInstance().hasPendingBidRequest(t)||-1!==["Inread_Video","LoggedOut_PublicationWithoutFulltext_InReadVideo","LoggedOut_Post_InReadVideo"].indexOf(t.getSlotId())&&t.refreshCounter>0)})),n=e.map((function(t){return t.getGptSlot()}));n.length&&(e.forEach((function(t){t.setRequestTimestamp(Date.now());const e=t.getSlot();e.setTargeting("refreshCounter",[`${t.refreshCounter}`]),e.setTargeting("refresh",[t.refreshCounter>0?"true":"false"]);const n=t.generateAdCorrelationId();e.setTargeting("adCorrelationId",[n]),function(t){t&&z("rgAdRequest",O(t))}(t)})),t&&A.setConfigValue(x,!1),I("[AdManager] Calling refresh for ["+n.map((t=>t.getAdUnitPath())).join(",")+"]."),googletag.pubads().refresh(function(t){return t.map((t=>-1===t.getAdUnitPath().indexOf("Video")?{sortIndex:0,slot:t}:{sortIndex:1e4,slot:t})).sort(((t,e)=>t.sortIndex===e.sortIndex?0:t.sortIndex>e.sortIndex?1:-1)).map((({slot:t})=>t))}(n),{changeCorrelator:!1}),G.getInstance().removeBids(e),e.forEach((function(t){t.setGptRefresh()})))}class G{constructor(){this.bidders=[],this.blockedAdUnits={},this.pendingBids={},this.runningBids={},this.providers=function(){const t=[new L,new N],e=A.getConfig("bidders",[]),n=[];for(const i of t)-1!==e.indexOf(i.getName())&&n.push(i);return n}()}static getInstance(){return G.instance||(G.instance=new G),G.instance}hasPendingBidRequest(t){return!!this.blockedAdUnits[t.getId()]}init(){if(!b())for(const t of this.providers)I(`Setting up ${t.getDisplayName()}`),t.init()}requestBids(){if(!this.providers.length)return;const t=Y(q).filter((t=>!this.pendingBids[t.getId()]));if(!t.length)return;const e=l();for(const n of t)this.blockedAdUnits[n.getId()]=e,this.pendingBids[n.getId()]=e;this.runningBids[e]=[];const n=A.getConfig("bidderTimeout",B);setTimeout((()=>{this.runningBids[e]&&(I(`[${e}] Request Bids timed out after ${n} ms.`),this.removeBiddingAndRenderAds(e))}),n);const i=t.map((t=>t.getAdUnitPath()));for(const n of this.providers)try{n.requestBids(t,e,((t,e)=>{this.handleBidsBack(t,e)})),I(`[${e}] Request bids provider ${n.getDisplayName()} for adUnits [${i.join(", ")}].`)}catch(t){I(`[${e}] Error on request bids provider ${n.getDisplayName()} for adUnits [${i.join(", ")}].`),this.handleBidsBack(n.getName(),e)}}removeBiddingAndRenderAds(t){delete this.runningBids[t];for(const e in this.blockedAdUnits)this.blockedAdUnits[e]===t&&delete this.blockedAdUnits[e];V()}handleBidsBack(t,e){this.runningBids[e]&&-1===this.runningBids[e].indexOf(e)&&(this.runningBids[e].push(t),this.runningBids[e].length>=this.providers.length&&this.removeBiddingAndRenderAds(e))}removeBids(t){for(const e of t)delete this.pendingBids[e.getId()];for(const e of this.providers)e.removeBids(t)}}class H{constructor(t){if(this.advertiserId=null,this.lineItemId=null,this.creativeId=null,this.snippetId=null,this.isEmpty=null,this.serviceName=null,this.size=null,this.creativeTemplateId=null,this.gptRefresh=!1,this.lastRefresh=null,this.refreshCounter=0,this.refreshTimeout=null,this.refresh=!!this.refreshTimeout,this.id=t.id,this.adUnitPath=t.getAttribute("ad-unit-path"),this.onGptEvent=t.ongptevent,t.hasAttribute("ad-location")&&(this.adLocation=t.getAttribute("ad-location")),t.hasAttribute("ad-unit-sizes"))try{this.sizes=JSON.parse(t.getAttribute("ad-unit-sizes"))}catch(t){}if(Array.isArray(this.sizes)||(this.sizes=u(t.getElementsByTagName("rg-ad-size")).map((function(t){try{const e=t.getAttribute("size");return JSON.parse(e)}catch(t){return"fluid"}}))),this.sizeMappings=u(t.getElementsByTagName("rg-ad-sizeset")).map((function(t){try{return[JSON.parse(t.getAttribute("viewport-size")),JSON.parse(t.getAttribute("slot-sizes"))]}catch(t){return null}})).filter((t=>null!==t)),"Catfish"!==this.adLocation||this.sizeMappings&&this.sizeMappings.length||(this.sizeMappings=[[[0,0],[[320,50],[320,100],[300,50],[300,100]]],[[768,0],[]]]),this.sizeMappings.length>0){const t=T(this);t&&(this.sizes=t)}else 0===this.sizes.length&&(this.sizes=["fluid"]);if(t.hasAttribute("refresh-timeout")){const e=parseInt(t.getAttribute("refresh-timeout"));this.refreshTimeout=-1===e?A.getConfig("defaultRefreshTimeout",3e4):e}else this.refreshTimeout=0;t.hasAttribute("load-on-init")?this.loadOnInit="true"===t.getAttribute("load-on-init"):this.loadOnInit=!1,t.hasAttribute("collapse")&&(this.collapse=t.getAttribute("collapse")),-1===["Right","Top"].indexOf(this.adLocation)||"1"!==t.getAttribute("targeting-sequence")||p()||(this.loadOnInit=!0),this.targeting=function(t){const e={},n="targeting-";for(let i=0;i<t.attributes.length;i+=1){const o=t.attributes[i];0===o.name.indexOf(n)&&(e[o.name.slice(n.length)]=o.value.split(","))}return e}(t),t.classList.add("is-registered"),this.element=t,this.gptSlot=null,this.advertiserId=null,this.lineItemId=null,this.creativeId=null,this.isEmpty=null,this.serviceName=null,this.size=null,this.creativeTemplateId=null,this.gptRefresh=!1,this.lastRefresh=null,this.refreshCounter=0,this.refresh=!!this.refreshTimeout,this.snippetId=this.id,this.targeting.snippet_id=[this.snippetId]}createSlot(){this.gptSlot||(this.gptSlot=function(t){const e=googletag.defineSlot(t.getAdUnitPath(),t.isResponsive()?["fluid"]:t.getSizes(),t.getId()),n=t.getSlotId();if(t.isResponsive()){const n=googletag.sizeMapping();t.sizeMappings.forEach((t=>{n.addSize(t[0],t[1])})),e.defineSizeMapping(n.build())}else if(-1===["Native_Publication_Overview_Middle","Native_HomeFeed_ATF_Middle","Preview"].indexOf(n)){const i=googletag.sizeMapping();-1!==n.toLowerCase().indexOf("mobile")?(i.addSize([0,0],t.getSizes()),i.addSize([992,0],[])):(i.addSize([0,0],[]),i.addSize([992,0],t.getSizes())),e.defineSizeMapping(i.build())}e.addService(googletag.pubads()),it(n,"TargetingInfoSet"),function(t,e){switch(t){case"never":e.setCollapseEmptyDiv(!1);break;case"afterFetch":e.setCollapseEmptyDiv(!0);break;case"beforeFetch":e.setCollapseEmptyDiv(!0,!0)}}(t.collapse,e);const i=A.getConfig("targeting.variants",[]),o=t.getTargeting();return o&&Object.keys(o).forEach((t=>{const n=o[t];"variants"===t&&i.forEach((t=>{-1===n.indexOf(t)&&n.push(t)})),e.setTargeting(t,n)})),googletag.enableServices(),googletag.display(e.getSlotElementId()),e}(this))}getSlot(){return this.gptSlot}getLazySetting(){return A.getConfig("defaultLazyLoad",.5)}getAdUnitPath(){return this.adUnitPath}getSlotId(){return this.adUnitPath.split("/").pop()}getSizes(){return this.sizes||[[1,1]]}getId(){return this.id}setGptRefresh(){this.gptRefresh=!0,this.refreshCounter++,this.lastRefresh=Date.now()}resetGptRefresh(){this.gptRefresh=!1}resetGptSlot(){googletag.cmd.push((()=>{this.gptSlot&&(this.gptRefresh=!1,this.lastRefresh=null,googletag.pubads().clear([this.gptSlot]),G.getInstance().removeBids([this]))}))}setRequestTimestamp(t){this.requestTimestamp=t}generateAdCorrelationId(){return this.adCorrelationId=l(),this.adCorrelationId}disableRefresh(){this.refreshTimeout=0}isResponsive(){return this.sizeMappings.length>0}getGptRefresh(){return this.gptRefresh}isLoadOnInit(){return this.loadOnInit}getRefreshTimeout(){return this.refreshTimeout}getRequestTimestamp(){return this.requestTimestamp}getAdLocation(){return this.adLocation}getRefreshCounter(){return this.refreshCounter}getLastRefresh(){return this.lastRefresh}getGptSlot(){return this.gptSlot}getCollapse(){return this.collapse}getSizeMappings(){return this.sizeMappings}getTargeting(){return this.targeting}}let W=[];const J=()=>{let t=(e=document.querySelectorAll("rg-ad:not(.is-registered)"),Array.from(e));var e;const n=A.getConfig("whitelistedAdUnits",[]);n&&n.length>0&&(t.forEach((t=>{t.classList.add("is-registered")})),t=t.filter((t=>{const e=t.getAttribute("ad-unit-path");return-1!==n.indexOf(e)})));const i=t.map((function(t){const e=new H(t);return W.push(e),e}));i.length&&I(`Registered ${i.length} adUnits from rg-ad elements. [${i.map((t=>t.getAdUnitPath())).join(", ")}]`)},F=()=>W;function K(){return F().filter((t=>!t.getSlot()))}const Q=t=>{const e=t.map((t=>t.getId()));W=W.filter((t=>-1===e.indexOf(t.getId())))};function Y(t,e=!0){const n=A.getConfig(x,!1),i=A.getConfig("refreshDisabled",!1);return F().filter((t=>!t.gptRefresh&&document.body.contains(t.element))).filter((t=>!e||t.getSlot())).filter((t=>!i||t.refreshCounter<1)).filter((e=>n||e.loadOnInit||t(e)))}let X=[],Z=!1,tt=null;function et(){tt=null,X.length>0&&(X.filter((({type:t})=>-1!==["SlotRenderEnded"].indexOf(t))).length&&X.push({type:"globalTargeting",targeting:A.getConfig(S,{})}),navigator.sendBeacon("/beacon/ads/v1/track",JSON.stringify(X)),X=[])}let nt={};function it(t,e,n,i){if(n||i){let i=0;n&&n.requestTimestamp&&(i=Date.now()-n.requestTimestamp,(i<0||i>6e4)&&(i=0));const r={mv:"1.199.0"},a=A.getConfig(k,null),d=A.getConfig("targeting.experimentVariant",null);if(n){const t=`${e}-${n.adCorrelationId}`;if(nt[t])return;nt[t]=!0,r.li=n.lineItemId,r.ci=n.creativeId,r.ct=n.creativeTemplateId,r.ai=n.advertiserId,r.ie=n.isEmpty,r.ck=a,r.va=d,r.aci=n.adCorrelationId;const i=n.getSlot();if(i){const t={};i.getTargetingKeys().forEach((e=>{t[e]=i.getTargeting(e)||[]})),r.ta=t}}!function(t,e,n,i){var r;!function(...t){w()&&s("log")&&o().log(C(t,"MESSAGE:"))}(`TrackLoading slot ${t} type ${e}`),r={slotId:t,type:e,msrs:n,...i},X.push(r),Z||(window.addEventListener("beforeunload",et),Z=!0),tt||(tt=setTimeout(et,3e4))}(t,e,i,r)}}n(787);const ot=()=>{it("AdBlockCheck","AdBlockEnabled",null,!0),window.ga&&window.ga("send","event","Ads","AdBlockEnabled"),I("Ad blocker detected.")};function st(t,e,n={}){const i=(o=t,document.getElementById(o));var o;i&&i.dispatchEvent(new CustomEvent("adUnitEvent",{detail:{...n,type:e}}))}const rt=t=>{let e=t.data;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=void 0}if("object"!=typeof e)return;if(!e||!e.msg||!e.snippet)return;const{snippet:n,msg:i}=e,o=F(),s=a(o,n);s?"adInteract"===i?st(n,"interact"):"disableRefresh"===i?(s.disableRefresh(),I(`Disabled refresh for adunit with snippetId ${n}.`)):I(`Unsupported message ${i}.`):I(`Could not find ad unit with snippetId ${n}.`)};function at(t,e){const{slot:n}=e;st(n.getSlotElementId(),t,{gptEvent:e})}function dt(t){const{slot:e}=t;I(`SlotRenderEndedEvent ${e.getAdUnitPath()} element ${e.getSlotElementId()}`);const n=F(),i=d(n,e);if(i){i.onGptEvent&&i.onGptEvent("slotRenderEnded",t),at("slotRenderEnded",t);const{creativeId:e,isEmpty:n,lineItemId:o,campaignId:s,advertiserId:r,serviceName:a,size:d,creativeTemplateId:l}=t;10007040===l&&i.disableRefresh(),Object.assign(i,{creativeId:e,isEmpty:n,lineItemId:o,campaignId:s,advertiserId:r,serviceName:a,size:d,creativeTemplateId:l}),it(i.getSlotId(),"SlotRenderEnded",i);const g=function(t){const{creativeId:e,isEmpty:n,lineItemId:i,advertiserId:o,serviceName:s,size:r,creativeTemplateId:a,refreshCounter:d}=t;return{renderCount:d,advertiserId:o,creativeId:e,lineItemId:i,isEmpty:n,serviceName:s,size:r,creativeTemplateId:a}}(i),u=A.getConfig(`adUnitChangeCallback.${i.snippetId}`);if(u&&u("updateSlot",g),t.isEmpty)c(i,"isEmpty");else{const t=A.getConfig("refreshingAdvertiserIds",[]);t&&t.length&&-1===t.indexOf(r)&&i.disableRefresh()}}t.isEmpty&&googletag.pubads().clear([e])}function lt(t){const{slot:e}=t;I(`SlotOnloadEvent ${e.getAdUnitPath()} element ${e.getSlotElementId()}`);const n=F(),i=d(n,e);i&&(i.onGptEvent&&i.onGptEvent("slotOnload",t),at("slotOnload",t),it(i.getSlotId(),"SlotOnload",i),c(i,"view"),function(t){t&&z("rgAdImpression",O(t))}(i))}function ct(t){const{slot:e}=t;I(`ImpressionViewableEvent ${e.getAdUnitPath()} element ${e.getSlotElementId()}`);const n=F(),i=d(n,e);i&&(i.onGptEvent&&i.onGptEvent("impressionViewable",t),at("impressionViewable",t),it(i.getSlotId(),"ImpressionViewable",i),function(t){t&&z("rgAdViewableImpression",O(t))}(i))}const gt=()=>{(()=>{const t=A.getConfig(S,{}),e=[];(window.pageConfig&&void 0!==window.pageConfig.isLitePage?window.pageConfig.isLitePage:document.getElementsByClassName("lite-page").length>0)&&e.push("lite-page"),null===v&&(v="TRUE"===y("force_test_ads").toUpperCase()),v&&(e.push("debug-ads"),I("Debugging for ads enabled, setting variants to debug-ads to force filled slots")),e.length&&(t.variants?e.forEach((e=>t.variants.push(e))):t.variants=e),b()&&(t.variants||(t.variants=[]),t.variants.push("test_mode")),t.managerVersion=["1.199.0"],Object.keys(t).forEach((e=>{let n=t[e];Array.isArray(n)||(n=[n]),googletag.pubads().setTargeting(e,n)})),A.setConfigValue(S,t),I("Page targeting set")})(),googletag.pubads().addEventListener("slotRenderEnded",dt),googletag.pubads().addEventListener("slotOnload",lt),googletag.pubads().addEventListener("impressionViewable",ct),window.cookieConsentConfig&&void 0!==window.cookieConsentConfig.googlePersonalization&&(window.cookieConsentConfig.googlePersonalization||(I("Setting non personalized ads"),googletag.pubads().setRequestNonPersonalizedAds(1))),"1"===f("google_restrict_data_processing")&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0});const t=A.getConfig("ppid",null);t&&googletag.pubads().setPublisherProvidedId(t),googletag.pubads().enableSingleRequest(),googletag.pubads().setCentering(!0),googletag.pubads().disableInitialLoad(),googletag.enableServices(),I("GPT services started"),F().forEach((t=>t.createSlot()))};let ut;class ht{constructor(){this.queue=[]}push(t){this.queue.push(t)}setCallback(t){this.queue.push=t}execute(t){this.queue.forEach(t)}}function pt(){return ut||(ut=new ht),ut}function ft(t,e){const n=void 0===e?t.getLazySetting():e;return U(t.element,n)}const mt=()=>{if(!(()=>{let t="hidden";return void 0!==document.hidden?t="hidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),"boolean"!=typeof document[t]||!document[t]})())return;if(function(){if(A.getConfig("disableFastScrollCheck",!1))return j=!1,j;const t=Math.abs($-window.scrollY);return $=window.scrollY,j=t>500,j}())return;const t=Date.now(),e=F().filter((t=>t.gptRefresh&&t.refreshTimeout>0&&document.body.contains(t.element))).filter(ft),n=e.filter((e=>t-e.lastRefresh>=e.refreshTimeout));e.length===n.length&&e.forEach((t=>t.resetGptRefresh())),G.getInstance().requestBids(),V()};function vt(){J(),K().length>0&&googletag.cmd.push((()=>K().forEach((t=>t.createSlot())))),mt()}const bt=t=>t(),yt=t=>(t(),0);const wt=t=>{const e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){try{t(...arguments)}catch(t){}return e.apply(this,[].slice.call(arguments))}},It=t=>{const e=t[1];if(!(t=>{const e=new URL(t);return"securepubads.g.doubleclick.net"===e.hostname&&"/gampad/ads"===e.pathname&&!(e.searchParams.has("cust_params")&&e.searchParams.has("prev_scp"))})(e))return;const n={adsUrl:e,targeting:A.getConfig(S,{})};navigator.sendBeacon("/beacon/ads/logTargeting",JSON.stringify(n))},_t=["publisherDomain","bidderTimeout"],Ct=t=>{if(!g(t))return void _("delivery-manager can only be initialized with object as config.");if(A.getConfig("initialized"))return void _("delivery-manager can only be initialized once.");if(t.enableLogging&&(m=!0,I("Logging enabled.")),A.setConfig({...t,initialized:!0}),"boolean"!=typeof A.getConfig("gdprApplies"))return void _("gdprApplies is a mandatory config setting.");let e=!1;_t.forEach((t=>{A.getConfig(t)||(_(`${t} is a mandatory config setting.`),e=!0)})),e||((()=>{const t=window.blockAdBlock;I("Checking for ad blocker."),void 0===t?ot():(t.onDetected(ot),t.onNotDetected((()=>{I("No ad blocker detected.")})),t.check())})(),A.getConfig("logAdTargeting",!1)&&wt(It),J(),googletag.cmd.push((()=>{i("message",rt,!1),gt(),function(){if(!window.matchMedia||void 0===window.matchMedia("all").addEventListener)return;const t=[];F().forEach((e=>{const n=[];let i;for(e.sizeMappings.forEach((t=>{const e=Array.isArray(t[0][0])?t[0][0][0]:t[0][0];n.push(e)})),i=0;i<n.length;i++){const e=n[i],o=n[i+1];let s=`(min-width: ${e}px)`;o&&(s=`${s} and (max-width: ${o-1}px)`),-1===t.indexOf(s)&&(window.matchMedia(s).addEventListener("change",R),t.push(s))}}))}(),pt().execute(bt),pt().setCallback(yt),G.getInstance().init(),mt(),function(){const t=window.MutationObserver;t&&new t((function(t){const e=[];t.forEach((t=>{Array.prototype.slice.call(t.addedNodes).forEach((t=>{"rg-ad"===t.tagName&&e.push(t)}))})),e.length>0&&vt()})).observe(document.body,{childList:!0})}(),setInterval(vt,250)})))};window.rgDelivery=window.rgDelivery||{},window.rgDelivery.cmd=window.rgDelivery.cmd||[];const Et=window.rgDelivery;function At(t){if("function"==typeof t)try{t.call(),t.called=!0}catch(t){_("Error processing command :",t.message,t.stack)}else _("Commands written into rgDelivery.cmd.push must be wrapped in a function")}I("AdsManager v1.199.0 loaded"),Et.setConfig=A.setConfig,Et.getConfig=A.getConfig,Et.initManager=t=>{"interactive"===document.readyState||"complete"===document.readyState?Ct(t):window.addEventListener("DOMContentLoaded",(()=>{Ct(t)}))},Et.startManager=()=>{},Et.registerAdSlot=()=>{},Et.unregisterAdSlot=t=>{t?googletag.cmd.push((()=>{const e=F().filter((e=>e.getId()===t));Q(e);const n=e.map((t=>t.getSlot()));n.length&&googletag.destroySlots(n)})):_("SnippetId required for performing remove.")},Et.refreshAdSlot=t=>{t?googletag.cmd.push((()=>{const e=F().filter((e=>e.getId()===t)).map((t=>t.getSlot()));e.length>0&&(I(`Refreshing slots [${e.map((t=>t.getSlotElementId())).join(",")}]`),googletag.pubads().refresh(e))})):_("SnippetId required for performing refresh.")},Et.updateContextTargeting=t=>{if(!g(t))return void _("Targeting provided is not a valid targeting map.");const e={...A.getConfig(S,{}),...t};A.setConfigValue(S,e),Object.keys(e).forEach((t=>{let n=e[t];Array.isArray(n)||(n=[n]),googletag.pubads().setTargeting(t,n)}))},Et.refreshAdSlots=t=>{Array.isArray(t)&&t.length?googletag.cmd.push((()=>{const e=F().filter((e=>-1!==t.indexOf(e.getSlotId()))).map((t=>t.getSlot()));e.length>0&&(I(`Refreshing slots [${e.map((t=>t.getSlotElementId())).join(",")}]`),googletag.pubads().refresh(e))})):_("AdUnit codes required for refreshing.")},Et.cmd.push=At,Et.processQueue=function(){!function(t){t.forEach((function(t){void 0===t.called&&At(t)}))}(Et.cmd)},Et.processQueue()})()})();